{"version":3,"sources":["../../../src/component/component.slider.js"],"names":["ComponentSlider","parent","option","onChange","that","_","isNil","min","max","console","error","component","$","__ComponentUtil","createName","$range","appendTo","createDesc","core","num","bar","currentValue","createOptions","down","on","e","addClass","updatePin","document","removeClass","Math","floor","x","originalEvent","clientX","offset","left","width","setDisplayObjects","contents","filter","nodeType","nodeValue","__Formatter","number","css","update","value"],"mappings":";;AAAA;;;AAGA,SAASA,eAAT,CAAyBC,MAAzB,EAAiCC,MAAjC,EAAyCC,QAAzC,EAAmD;AAC/C,QAAMC,OAAO,IAAb;AACA,SAAKF,MAAL,GAAcA,MAAd;;AAEA,QAAIG,EAAEC,KAAF,CAAQJ,OAAOK,GAAf,KAAuBF,EAAEC,KAAF,CAAQJ,OAAOM,GAAf,CAA3B,EAAgD;AAC5CC,gBAAQC,KAAR,CAAc,+BAAd;AACA,eAAO,KAAP;AACH;AACD,QAAIC,YAAYC,EAAE,+BAAF,CAAhB;AACAC,oBAAgBC,UAAhB,CAA2BH,SAA3B,EAAsCT,MAAtC;AACA,QAAIa,SAASH,EAAE,4BAAF,EAAgCI,QAAhC,CAAyCL,SAAzC,CAAb;AACAE,oBAAgBI,UAAhB,CAA2BN,SAA3B,EAAsCT,MAAtC;;AAEA,QAAIgB,OAAON,EAAE,2BAAF,EAA+BI,QAA/B,CAAwCD,MAAxC,CAAX;AACA,QAAII,MAAMP,EAAE,wBACR,yBADQ,GAER,QAFM,EAEII,QAFJ,CAEaE,IAFb,CAAV;;AAIA,QAAIE,MAAMR,EAAE,yBAAF,EAA6BI,QAA7B,CAAsCD,MAAtC,CAAV;AACA,QAAIM,eAAe,CAAnB;AACAR,oBAAgBS,aAAhB,CAA8BP,MAA9B,EAAsC,CAAC,KAAD,EAAQ,KAAR,CAAtC,EAAsDb,MAAtD;;AAGAS,cAAUK,QAAV,CAAmBJ,EAAEX,MAAF,CAAnB;;AAEA,QAAIsB,OAAO,KAAX;AACAR,WAAOS,EAAP,CAAU,WAAV,EAAuB,UAAUC,CAAV,EAAa;AAChCF,eAAO,IAAP;AACAX,UAAEO,GAAF,EAAOO,QAAP,CAAgB,OAAhB;AACAC,kBAAUF,CAAV;AACA,eAAO,KAAP;AACH,KALD;;AAOAb,MAAEgB,QAAF,EAAYJ,EAAZ,CAAe,WAAf,EAA4B,UAAUC,CAAV,EAAa;AACrC,YAAIF,IAAJ,EAAUI,UAAUF,CAAV;AAEb,KAHD;;AAKAb,MAAEgB,QAAF,EAAYJ,EAAZ,CAAe,SAAf,EAA0B,YAAY;AAClCZ,UAAEO,GAAF,EAAOU,WAAP,CAAmB,OAAnB;AACA,YAAIN,IAAJ,EAAU;AACNpB,qBAAS2B,KAAKC,KAAL,CAAWV,YAAX,CAAT;AACH;AACDE,eAAO,KAAP;AACH,KAND;;AAQA,aAASI,SAAT,CAAmBF,CAAnB,EAAsB;AAClB,YAAIO,IAAIP,EAAEQ,aAAF,CAAgBC,OAAhB,GAA0BnB,OAAOoB,MAAP,GAAgBC,IAAlD;AACA,YAAIJ,IAAI,CAAR,EAAWA,IAAI,CAAJ,CAAX,KACK,IAAIA,IAAIjB,OAAOsB,KAAP,EAAR,EAAwBL,IAAIjB,OAAOsB,KAAP,EAAJ;AAC7B,YAAIA,QAAQtB,OAAOsB,KAAP,EAAZ;AACAhB,uBAAeW,IAAIK,KAAJ,IAAanC,OAAOM,GAAP,GAAaN,OAAOK,GAAjC,IAAwCL,OAAOK,GAA9D;;AAEA+B,0BAAkBN,CAAlB,EAAqBX,YAArB;AACH;;AAED,aAASiB,iBAAT,CAA2BN,CAA3B,EAA8BX,YAA9B,EAA4C;AACxCF,YAAIoB,QAAJ,GAAeC,MAAf,CAAsB,YAAY;AAC9B,mBAAO,KAAKC,QAAL,IAAiB,CAAxB;AACH,SAFD,EAEG,CAFH,EAEMC,SAFN,GAEkBC,YAAYC,MAAZ,CAAmBd,KAAKC,KAAL,CAAWV,YAAX,CAAnB,CAFlB;AAGA;AACAH,aAAK2B,GAAL,CAAS,MAAT,EAAiBb,CAAjB;AACAZ,YAAIyB,GAAJ,CAAQ,OAAR,EAAiBb,CAAjB;AACH;;AAED,SAAKc,MAAL,GAAc,UAAUC,KAAV,EAAiB;AAC3BT,0BAAkB,CAACS,QAAQ7C,OAAOK,GAAhB,KAAyBL,OAAOM,GAAP,GAAaN,OAAOK,GAA7C,IACZQ,OAAOsB,KAAP,EADN,EACsBU,KADtB;AAEH,KAHD;;AAKA,QAAI,CAAC1C,EAAEC,KAAF,CAAQJ,OAAO6C,KAAf,CAAL,EACI,KAAKD,MAAL,CAAY5C,OAAO6C,KAAnB;AACJ,WAAO,IAAP;AACH;;AAED","file":"component.slider.js","sourcesContent":["/**\n * Created by hyunwoo on 2017-02-20.\n */\nfunction ComponentSlider(parent, option, onChange) {\n    const that = this;\n    this.option = option;\n\n    if (_.isNil(option.min) || _.isNil(option.max)) {\n        console.error('Slider Min or Max not defined');\n        return false;\n    }\n    var component = $('<div class=\"component\"></div>');\n    __ComponentUtil.createName(component, option);\n    var $range = $('<div class=\"slider\"></div>').appendTo(component);\n    __ComponentUtil.createDesc(component, option);\n\n    var core = $('<div class=\"point\"></div>').appendTo($range);\n    var num = $('<div class=\"num\">30' +\n        '<div class=\"pin\"></div>' +\n        '</div>').appendTo(core);\n\n    var bar = $('<div class=\"bar\"></div>').appendTo($range);\n    var currentValue = 0;\n    __ComponentUtil.createOptions($range, ['min', 'max'], option);\n\n\n    component.appendTo($(parent));\n\n    var down = false;\n    $range.on('mousedown', function (e) {\n        down = true;\n        $(num).addClass('click');\n        updatePin(e);\n        return false;\n    });\n\n    $(document).on('mousemove', function (e) {\n        if (down) updatePin(e);\n\n    });\n\n    $(document).on('mouseup', function () {\n        $(num).removeClass('click');\n        if (down) {\n            onChange(Math.floor(currentValue));\n        }\n        down = false;\n    });\n\n    function updatePin(e) {\n        var x = e.originalEvent.clientX - $range.offset().left;\n        if (x < 0) x = 0;\n        else if (x > $range.width()) x = $range.width();\n        var width = $range.width();\n        currentValue = x / width * (option.max - option.min) + option.min;\n\n        setDisplayObjects(x, currentValue);\n    }\n\n    function setDisplayObjects(x, currentValue) {\n        num.contents().filter(function () {\n            return this.nodeType == 3;\n        })[0].nodeValue = __Formatter.number(Math.floor(currentValue));\n        //num.text(currentValue);\n        core.css('left', x);\n        bar.css('width', x);\n    }\n\n    this.update = function (value) {\n        setDisplayObjects((value - option.min ) / (option.max - option.min)\n            * $range.width(), value);\n    };\n\n    if (!_.isNil(option.value))\n        this.update(option.value);\n    return this;\n}\n\n// Run!\n\n\n"]}