{"version":3,"sources":["../../src/util.js"],"names":["__Formatter","number","val","_","isInteger","nFormatter","toFixed","num","digits","si","value","symbol","rx","i","length","replace","numberWithSymbol","toFix","isNil","__UUID","create","$item","__FileReader","InputReadFile","$input","callback","on","evt","console","log","f","target","files","r","FileReader","onload","e","result","readAsText","alert"],"mappings":"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","file":"util.js","sourcesContent":["/**\r\n * Created by hyunwoo on 2017-02-20.\r\n */\r\nlet __Formatter = new function () {\r\n    /**\r\n     * @return {string}\r\n     */\r\n    this.number = function (val) {\r\n        if (_.isInteger(val)) {\r\n            return nFormatter(val, 1);\r\n        } else {\r\n            return val.toFixed(2);\r\n        }\r\n    };\r\n\r\n    function nFormatter(num, digits) {\r\n        var si = [\r\n            {value: 1E18, symbol: \"E\"},\r\n            {value: 1E15, symbol: \"P\"},\r\n            {value: 1E12, symbol: \"T\"},\r\n            {value: 1E9, symbol: \"G\"},\r\n            {value: 1E6, symbol: \"M\"},\r\n            {value: 1E3, symbol: \"k\"}\r\n        ], rx = /\\.0+$|(\\.[0-9]*[1-9])0+$/, i;\r\n        for (i = 0; i < si.length; i++) {\r\n            if (num >= si[i].value) {\r\n                return (num / si[i].value).toFixed(digits).replace(rx, \"$1\") + si[i].symbol;\r\n            }\r\n        }\r\n        return num.toFixed(digits).replace(rx, \"$1\");\r\n    }\r\n\r\n    this.numberWithSymbol = function (num, toFix) {\r\n        if (_.isNil(toFix)) toFix = 1;\r\n        var si = [\r\n            {value: 1E18, symbol: \"E\"},\r\n            {value: 1E15, symbol: \"P\"},\r\n            {value: 1E12, symbol: \"T\"},\r\n            {value: 1E9, symbol: \"G\"},\r\n            {value: 1E6, symbol: \"M\"},\r\n            {value: 1E3, symbol: \"k\"}\r\n        ], rx = /\\.0+$|(\\.[0-9]*[1-9])0+$/, i;\r\n\r\n        for (i = 0; i < si.length; i++) {\r\n            if (num >= si[i].value) return {\r\n                number: (num / si[i].value).toFixed(toFix).replace(rx, \"$1\"),\r\n                symbol: si[i].symbol,\r\n            }\r\n        }\r\n        return {\r\n            number: num.toFixed(toFix).replace(rx, \"$1\"),\r\n            symbol: '',\r\n        }\r\n    }\r\n};\r\n\r\nlet __UUID = new function () {\r\n    this.create = function ($item) {\r\n\r\n    }\r\n};\r\n\r\nconst __FileReader = new function () {\r\n    this.InputReadFile = function ($input, callback) {\r\n        $input.on('change', function (evt) {\r\n            console.log('!!!');\r\n            var f = evt.target.files[0];\r\n            if (f) {\r\n                var r = new FileReader();\r\n                r.onload = function (e) {\r\n                    f['contents'] = e.target.result;\r\n                    console.log('===>');\r\n                    callback(f);\r\n                };\r\n                r.readAsText(f);\r\n            } else {\r\n                alert(\"Failed to load file\");\r\n            }\r\n        })\r\n    }\r\n};\r\n"]}