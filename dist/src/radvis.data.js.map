{"version":3,"sources":["../../src/radvis.data.js"],"names":["__data","DataAxis","name","index","stats","active","that","spacing","Setting","Radvis","Axis","Geometry","value","spacing_center","power","highlight","DataSet","csv","mode","_","isNil","injectCsv","rows","split","keys","raw","map","row","transposRaw","TransposData","numeric","numericKeys","forEach","d","values","drop","Number","some","v","isNaN","min","max","sigma","stdDeviation","median","mean","average","toString","__Formatter","number","Test","AxisLimit","AxisLimitCount","push","numericNodes","i","length","out","k","console","log","axis","axisName","find","matrix","col","$","get","data","createRadvis","__UI","injectData","createSideTab","click","Color","__RadvisController","updateAxisColor","THREE"],"mappings":"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","file":"radvis.data.js","sourcesContent":["/**\r\n * Created by hyunwoo on 2017-02-15.\r\n */\r\n\r\nlet __data;\r\n\r\n\r\nclass DataAxis {\r\n    constructor(name, index, stats) {\r\n        this.active = true;\r\n        var that = this;\r\n        this.name = name;\r\n        this.spacing = Setting.Radvis.Axis.Geometry.spacing.value;\r\n        this.spacing_center = Setting.Radvis.Axis.Geometry.spacing_center.value;\r\n        this.index = index;\r\n        this.stats = stats;\r\n        this.power = Setting.Radvis.Axis.Geometry.power.value;\r\n        this.highlight = false;\r\n\r\n    }\r\n\r\n}\r\n\r\nclass DataSet {\r\n    constructor(csv, mode) {\r\n        if (_.isNil(mode) || mode == 'csv') this.injectCsv(csv);\r\n    }\r\n\r\n    injectCsv(csv) {\r\n        var rows = csv.split('\\n');\r\n        this.keys = rows[0].split(',');\r\n        // this.keys = _.take(rows[0].split(','), 15);\r\n        this.raw = _.map(rows, function (row) {\r\n            return row.split(',');\r\n        });\r\n\r\n        this.transposRaw = DataSet.TransposData(this.raw);\r\n        var numeric = this.numeric = {};\r\n        var stats = this.stats = {};\r\n        var numericKeys = this.numericKeys = [];\r\n        _.forEach(this.transposRaw, function (d) {\r\n            var values = _.map(_.drop(d), function (d) {\r\n                return Number(d);\r\n            });\r\n\r\n            if (_.some(values, function (v) {\r\n                    return isNaN(v);\r\n                })) return;\r\n\r\n            stats[d[0]] = {\r\n                value: values,\r\n                min: _.min(values),\r\n                max: _.max(values),\r\n                // variance: _.variance(values), // �л�\r\n                sigma: _.stdDeviation(values), // ǥ������\r\n                median: _.median(values), // �߾Ӱ�\r\n                mean: _.average(values),\r\n\r\n                toString: function () {\r\n                    return \"min: \" + __Formatter.number(this.min) + \"<br>\" +\r\n                        \"max: \" + __Formatter.number(this.max) + \"<br>\" +\r\n                        \"sigma: \" + __Formatter.number(this.sigma) + \"<br>\" +\r\n                        \"mean: \" + __Formatter.number(this.mean);\r\n                }\r\n            };\r\n            numeric[d[0]] = values;\r\n            // FOR TEST\r\n            if (Setting.Test.AxisLimit) {\r\n                if (Setting.Test.AxisLimitCount < 15)\r\n                    numericKeys.push(d[0]);\r\n            } else numericKeys.push(d[0]);\r\n\r\n        });\r\n\r\n\r\n        this.numericNodes = [];\r\n        for (var i = 0; i < numeric[numericKeys[0]].length; i++) {\r\n            var out = {};\r\n            _.forEach(this.numericKeys, function (k) {\r\n                out[k] = numeric[k][i];\r\n            });\r\n            this.numericNodes.push(out);\r\n        }\r\n\r\n        console.log(this.numericNodes);\r\n\r\n        this.axis = _.map(this.numericKeys, function (k, i) {\r\n            return new DataAxis(k, i, stats[k]);\r\n        });\r\n    }\r\n\r\n    findAxis(axisName) {\r\n        return _.find(this.axis, function (axis) {\r\n            return axis.name == axisName;\r\n        })\r\n    }\r\n\r\n    static TransposData(matrix) {\r\n        return _.map(matrix[0], function (col, i) {\r\n            return _.map(matrix, function (row) {\r\n                return row[i];\r\n            })\r\n        })\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n\r\n$.get('/data/credos_testing.csv', function (data) {\r\n    __data = new DataSet(data);\r\n    //createAxisVisibility();\r\n    // Important! : Visualization Controlled based on Data\r\n    createRadvis();\r\n    __UI.injectData(__data);\r\n    __UI.createSideTab();\r\n    // create2DViewer();\r\n    //createParallel();\r\n});\r\n\r\n$(function () {\r\n    $('#axisColorApplier').click(function () {\r\n        Setting.Radvis.Axis.Color = 0xFF0000;\r\n        __RadvisController.updateAxisColor(new THREE.Color(Setting.Radvis.Axis.Color));\r\n    });\r\n});\r\n"]}