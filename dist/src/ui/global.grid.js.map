{"version":3,"sources":["../../../src/ui/global.grid.js"],"names":["GridSystem","that","_page","createPage","$","appendTo","clearPage","callback","injectAnimate","setTimeout","remove","createGrid","grids","isPageNil","_","isArray","grid","forEach","d","$cell","cell","attr","_id","setGridHeader","$target","isString","find","$header","prependTo","text","$actions","actions","action","$item","icon","click","isNil","addition","addClass","anim","removeElement","updateGridContentItem","content","console","log","update","name","html","addGridContentItem","contents","$contents","length","warn","addGridContentDesc","descs","clearGridAddition","setGridContentAddition","class","setGridContent","nil","__UIStatic","Toast","open"],"mappings":";;AAAA;;;;AAIA,IAAIA,aAAa,IAAI,YAAY;AAC7B,QAAIC,OAAO,IAAX;AACA,QAAIC,KAAJ;AACA,SAAKC,UAAL,GAAkB,YAAY;AAC1BD,gBAAQE,EAAE,0BAAF,EAA8BC,QAA9B,CAAuC,MAAvC,CAAR;AACA,eAAOJ,IAAP;AACH,KAHD;;AAKA,SAAKK,SAAL,GAAiB,UAAUC,QAAV,EAAoB;AACjCC,sBAAc,OAAd,EAAuB,WAAvB;AACAC,mBAAW,YAAM;AACbL,cAAE,OAAF,EAAWM,MAAX;AACAH;AACAL,oBAAQ,IAAR;AACH,SAJD,EAIG,GAJH;AAKA,eAAOD,IAAP;AACH,KARD;;AAUA;;;;;;AAMA,SAAKU,UAAL,GAAkB,UAAUC,KAAV,EAAiB;AAC/B,YAAIC,WAAJ,EAAiB;AACjB,YAAI,CAACC,EAAEC,OAAF,CAAUH,KAAV,CAAL,EAAuBA,QAAQ,CAACA,KAAD,CAAR;AACvB,YAAII,OAAOZ,EAAE,0BAAF,EAA8BC,QAA9B,CAAuCH,KAAvC,CAAX;AACAY,UAAEG,OAAF,CAAUL,KAAV,EAAiB,UAAUM,CAAV,EAAa;AAC1B,gBAAIC,QAAQf,6BAA2Bc,EAAEE,IAA7B,eAA6Cf,QAA7C,CAAsDW,IAAtD,CAAZ;AACAG,kBAAME,IAAN,CAAW,IAAX,EAAiBH,EAAEI,GAAnB;AACAlB,cAAE,8BAAF,EAAkCC,QAAlC,CAA2Cc,KAA3C;AACH,SAJD;AAKA,eAAOlB,IAAP;AACH,KAVD;;AAYA;;;;;;;;;AASA,SAAKsB,aAAL,GAAqB,UAAUC,OAAV,EAAmBN,CAAnB,EAAsB;AACvC,YAAIJ,EAAEW,QAAF,CAAWD,OAAX,CAAJ,EAAyBA,UAAUpB,EAAEoB,OAAF,CAAV;AACzBA,gBAAQE,IAAR,CAAa,SAAb,EAAwBhB,MAAxB;;AAEA,YAAMiB,UAAUvB,EAAE,4BAAF,EAAgCwB,SAAhC,CAA0CJ,OAA1C,CAAhB;AACApB,iCAAuBc,EAAEW,IAAzB,aAAuCxB,QAAvC,CAAgDsB,OAAhD;AACA,YAAMG,WAAW1B,EAAE,6BAAF,EAAiCC,QAAjC,CAA0CsB,OAA1C,CAAjB;;AAGAb,UAAEG,OAAF,CAAUC,EAAEa,OAAZ,EAAqB,UAAUC,MAAV,EAAkB;AACnC,gBAAMC,QAAQ7B,4CAA0C4B,OAAOE,IAAjD,aAA+D7B,QAA/D,CAAwEyB,QAAxE,CAAd;AACAG,kBAAME,KAAN,CAAYH,OAAOA,MAAnB;AACA,gBAAI,CAAClB,EAAEsB,KAAF,CAAQJ,OAAOK,QAAf,CAAL,EAA+BJ,MAAMK,QAAN,CAAeN,OAAOK,QAAtB;AAClC,SAJD;AAKA7B,sBAAcmB,OAAd,EAAuB,QAAvB;AACA,eAAO1B,IAAP;AACH,KAhBD;;AAmBA;;;;;;;;;;AAUA,aAASO,aAAT,CAAuBgB,OAAvB,EAAgCe,IAAhC,EAAsC;AAClC,YAAIzB,EAAEW,QAAF,CAAWD,OAAX,CAAJ,EAAyBA,UAAUpB,EAAEoB,OAAF,CAAV;AACzBA,gBAAQc,QAAR,CAAiBC,IAAjB;AACH;;AAED,SAAKC,aAAL,GAAqB,UAAUhB,OAAV,EAAmB;AACpC,YAAIV,EAAEW,QAAF,CAAWD,OAAX,CAAJ,EAAyBA,UAAUpB,EAAEoB,OAAF,CAAV;AACzBA,gBAAQd,MAAR;AAEH,KAJD;;AAMA,SAAK+B,qBAAL,GAA6B,UAAUjB,OAAV,EAAmBkB,OAAnB,EAA4B;AACrD,YAAI5B,EAAEW,QAAF,CAAWD,OAAX,CAAJ,EAAyBA,UAAUpB,EAAEoB,OAAF,CAAV;AACzBmB,gBAAQC,GAAR,CAAYpB,OAAZ;AACA,YAAIqB,SAAS/B,EAAEsB,KAAF,CAAQM,QAAQb,IAAhB,IAAwBa,QAAQI,IAAhC,GAAuCJ,QAAQb,IAA5D;AACAL,gBAAQuB,IAAR,CAAaF,MAAb;AACH,KALD;AAMA,SAAKG,kBAAL,GAA0B,UAAUxB,OAAV,EAAmByB,QAAnB,EAA6B;AACnD,YAAInC,EAAEW,QAAF,CAAWD,OAAX,CAAJ,EAAyBA,UAAUpB,EAAEoB,OAAF,CAAV;AACzB,YAAI,CAACV,EAAEC,OAAF,CAAUkC,QAAV,CAAL,EAA0BA,WAAW,CAACA,QAAD,CAAX;;AAE1B,YAAMC,YAAY1B,QAAQE,IAAR,CAAa,WAAb,CAAlB;AACA,YAAIwB,UAAUC,MAAV,IAAoB,CAAxB,EAA2B;AACvBR,oBAAQS,IAAR,CAAa,oBAAb;AACA;AACH;AACDtC,UAAEG,OAAF,CAAUgC,QAAV,EAAoB,UAAUP,OAAV,EAAmB;AACnC,gBAAItC,EAAE,MAAMsC,QAAQpB,GAAhB,EAAqB6B,MAArB,IAA+B,CAAnC,EAAsC;AACtC,gBAAIlB,QAAQ7B,yBAAuBsC,QAAQb,IAA/B,aAA6CxB,QAA7C,CAAsD6C,SAAtD,CAAZ;AACAjB,kBAAMZ,IAAN,CAAW,IAAX,EAAiBqB,QAAQpB,GAAzB;AACAW,kBAAME,KAAN,CAAYO,QAAQV,MAApB;AACAxB,0BAAcyB,KAAd,EAAqB,QAArB;AACH,SAND;AAOA,eAAOhC,IAAP;AACH,KAjBD;;AAmBA,SAAKoD,kBAAL,GAA0B,UAAU7B,OAAV,EAAmB8B,KAAnB,EAA0B;AAChD,YAAIxC,EAAEW,QAAF,CAAWD,OAAX,CAAJ,EAAyBA,UAAUpB,EAAEoB,OAAF,CAAV;AACzB,YAAI,CAACV,EAAEC,OAAF,CAAUuC,KAAV,CAAL,EAAuBA,QAAQ,CAACA,KAAD,CAAR;;AAGvB,YAAMJ,YAAY1B,QAAQE,IAAR,CAAa,WAAb,CAAlB;AACA,YAAIwB,UAAUC,MAAV,IAAoB,CAAxB,EAA2B;AACvBR,oBAAQS,IAAR,CAAa,oBAAb;AACA;AACH;AACDtC,UAAEG,OAAF,CAAUqC,KAAV,EAAiB,UAAUZ,OAAV,EAAmB;AAChC,gBAAIT,QAAQ7B,yBAAuBsC,QAAQb,IAA/B,aAA6CxB,QAA7C,CAAsD6C,SAAtD,CAAZ;AACAjB,kBAAMZ,IAAN,CAAW,IAAX,EAAiBqB,QAAQpB,GAAzB;AACAW,kBAAME,KAAN,CAAYO,QAAQV,MAApB;AACAxB,0BAAcyB,KAAd,EAAqB,QAArB;AACH,SALD;AAMA,eAAOhC,IAAP;AACH,KAjBD;;AAoBA,SAAKsD,iBAAL,GAAyB,UAAU/B,OAAV,EAAmB;AACxC,YAAIV,EAAEW,QAAF,CAAWD,OAAX,CAAJ,EAAyBA,UAAUpB,EAAEoB,OAAF,CAAV;AACzBA,gBAAQE,IAAR,CAAa,0BAAb,EAAyChB,MAAzC;AACA,eAAOT,IAAP;AACH,KAJD;;AAMA,SAAKuD,sBAAL,GAA8B,UAAUhC,OAAV,EAAmBa,QAAnB,EAA6B;AACvD,YAAIvB,EAAEW,QAAF,CAAWD,OAAX,CAAJ,EAAyBA,UAAUpB,EAAEoB,OAAF,CAAV;AACzB,YAAI,CAACV,EAAEC,OAAF,CAAUsB,QAAV,CAAL,EAA0BA,WAAW,CAACA,QAAD,CAAX;;AAE1Bb,kBAAUA,QAAQE,IAAR,CAAa,WAAb,CAAV;AACAF,kBAAUpB,EAAE,mCAAF,EAAuCC,QAAvC,CAAgDmB,OAAhD,CAAV;AACAV,UAAEG,OAAF,CAAUoB,QAAV,EAAoB,UAAUnB,CAAV,EAAa;AAC7B,gBAAIe,QAAQ7B,mBAAiBc,EAAEuC,KAAnB,UAA6BvC,EAAEW,IAA/B,aAA6CxB,QAA7C,CAAsDmB,OAAtD,CAAZ;AACAS,kBAAMP,IAAN,CAAW,QAAX,EAAqBS,KAArB,CAA2BjB,EAAEc,MAA7B;AACH,SAHD;AAIA,eAAO/B,IAAP;AACH,KAXD;;AAcA,SAAKyD,cAAL,GAAsB,UAAUlC,OAAV,EAAmBkB,OAAnB,EAA4B;AAC9C,YAAI5B,EAAEW,QAAF,CAAWD,OAAX,CAAJ,EAAyBA,UAAUpB,EAAEoB,OAAF,CAAV;;AAEzB,YAAM0B,YAAY1B,QAAQE,IAAR,CAAa,WAAb,EAA0ByB,MAA1B,IAAoC,CAApC,GACd/C,EAAE,8BAAF,EAAkCC,QAAlC,CAA2CmB,OAA3C,CADc,GACwCA,QAAQE,IAAR,CAAa,WAAb,CAD1D;;AAGAwB,kBAAUH,IAAV,CAAeL,OAAf;AACA,eAAOzC,IAAP;AACH,KARD;;AAWA,aAASY,SAAT,GAAqB;AACjB,YAAI8C,MAAM7C,EAAEsB,KAAF,CAAQlC,KAAR,CAAV;AACA,YAAIyD,GAAJ,EAASC,WAAWC,KAAX,CAAiBC,IAAjB,CAAsB,4BAAtB;AACT,eAAOhD,EAAEsB,KAAF,CAAQlC,KAAR,CAAP;AACH;AAEJ,CAvKgB,EAAjB","file":"global.grid.js","sourcesContent":["/**\r\n * Created by hyunwoo on 2017-02-26.\r\n */\r\n\r\nvar GridSystem = new function () {\r\n    let that = this;\r\n    var _page;\r\n    this.createPage = function () {\r\n        _page = $('<div class=\"page\"></div>').appendTo('body');\r\n        return that;\r\n    };\r\n\r\n    this.clearPage = function (callback) {\r\n        injectAnimate('.page', 'disappear');\r\n        setTimeout(() => {\r\n            $('.page').remove();\r\n            callback();\r\n            _page = null;\r\n        }, 300);\r\n        return that;\r\n    };\r\n\r\n    /**\r\n     * [{\r\n     *  cell : numeric\r\n     *  _id : id\r\n     * }]\r\n     */\r\n    this.createGrid = function (grids) {\r\n        if (isPageNil()) return;\r\n        if (!_.isArray(grids)) grids = [grids];\r\n        var grid = $('<div class=\"grid\"></div>').appendTo(_page);\r\n        _.forEach(grids, function (d) {\r\n            var $cell = $(`<div class=\"cell grid-${d.cell}\"></div>`).appendTo(grid);\r\n            $cell.attr('id', d._id);\r\n            $('<div class=\"contents\"></div>').appendTo($cell);\r\n        });\r\n        return that;\r\n    };\r\n\r\n    /**\r\n     * @param $target : string or jquery\r\n     * @param d : Object\r\n     *  text : string (header string)\r\n     *  actions : [{\r\n     *      icon :\r\n     *      action :\r\n     *  }]\r\n     */\r\n    this.setGridHeader = function ($target, d) {\r\n        if (_.isString($target)) $target = $($target);\r\n        $target.find('.header').remove();\r\n\r\n        const $header = $('<div class=\"header\"></div>').prependTo($target);\r\n        $(`<div class=\"text\">${d.text}</div>`).appendTo($header);\r\n        const $actions = $('<div class=\"actions\"></div>').appendTo($header);\r\n\r\n\r\n        _.forEach(d.actions, function (action) {\r\n            const $item = $(`<div class=\"action i material-icons\">${action.icon}</div>`).appendTo($actions);\r\n            $item.click(action.action);\r\n            if (!_.isNil(action.addition)) $item.addClass(action.addition);\r\n        });\r\n        injectAnimate($header, 'appear');\r\n        return that;\r\n    };\r\n\r\n\r\n    /**\r\n     * @param $target : jquery\r\n     * @param d : Object\r\n     *  contents : [{\r\n     *      _id : string (unique)\r\n     *      text :\r\n     *      action : click function\r\n     *  }]\r\n     */\r\n\r\n    function injectAnimate($target, anim) {\r\n        if (_.isString($target)) $target = $($target);\r\n        $target.addClass(anim);\r\n    }\r\n\r\n    this.removeElement = function ($target) {\r\n        if (_.isString($target)) $target = $($target);\r\n        $target.remove();\r\n\r\n    };\r\n\r\n    this.updateGridContentItem = function ($target, content) {\r\n        if (_.isString($target)) $target = $($target);\r\n        console.log($target);\r\n        var update = _.isNil(content.text) ? content.name : content.text;\r\n        $target.html(update);\r\n    };\r\n    this.addGridContentItem = function ($target, contents) {\r\n        if (_.isString($target)) $target = $($target);\r\n        if (!_.isArray(contents)) contents = [contents];\r\n\r\n        const $contents = $target.find('.contents');\r\n        if ($contents.length == 0) {\r\n            console.warn('not exist contents');\r\n            return;\r\n        }\r\n        _.forEach(contents, function (content) {\r\n            if ($('#' + content._id).length != 0) return;\r\n            var $item = $(`<div class=\"item\">${content.text}</div>`).appendTo($contents);\r\n            $item.attr('id', content._id);\r\n            $item.click(content.action);\r\n            injectAnimate($item, 'appear');\r\n        });\r\n        return that;\r\n    };\r\n\r\n    this.addGridContentDesc = function ($target, descs) {\r\n        if (_.isString($target)) $target = $($target);\r\n        if (!_.isArray(descs)) descs = [descs];\r\n\r\n\r\n        const $contents = $target.find('.contents');\r\n        if ($contents.length == 0) {\r\n            console.warn('not exist contents');\r\n            return;\r\n        }\r\n        _.forEach(descs, function (content) {\r\n            var $item = $(`<div class=\"desc\">${content.text}</div>`).appendTo($contents);\r\n            $item.attr('id', content._id);\r\n            $item.click(content.action);\r\n            injectAnimate($item, 'appear');\r\n        });\r\n        return that;\r\n    };\r\n\r\n\r\n    this.clearGridAddition = function ($target) {\r\n        if (_.isString($target)) $target = $($target);\r\n        $target.find('.contents .addition-info').remove();\r\n        return that;\r\n    };\r\n\r\n    this.setGridContentAddition = function ($target, addition) {\r\n        if (_.isString($target)) $target = $($target);\r\n        if (!_.isArray(addition)) addition = [addition];\r\n\r\n        $target = $target.find('.contents');\r\n        $target = $('<div class=\"addition-info\"></div>').appendTo($target);\r\n        _.forEach(addition, function (d) {\r\n            var $item = $(`<div class=\"${d.class}\">${d.text}</div>`).appendTo($target);\r\n            $item.find('action').click(d.action);\r\n        });\r\n        return that;\r\n    };\r\n\r\n\r\n    this.setGridContent = function ($target, content) {\r\n        if (_.isString($target)) $target = $($target);\r\n\r\n        const $contents = $target.find('.contents').length == 0 ?\r\n            $('<div class=\"contents\"></div>').appendTo($target) : $target.find('.contents');\r\n\r\n        $contents.html(content);\r\n        return that;\r\n    };\r\n\r\n\r\n    function isPageNil() {\r\n        var nil = _.isNil(_page);\r\n        if (nil) __UIStatic.Toast.open('Grid System : _page is nil');\r\n        return _.isNil(_page);\r\n    }\r\n\r\n};\r\n"]}