{"version":3,"sources":["../../../src/ui/mouseevent.global.js"],"names":["__ContextMenu","$","contextKey","that","addContextItem","$item","name","action","disable","_","isNil","push","getContextItem","wrapper","menu","find","click","evt","stopPropagation","open","console","log","target","clear","empty","close","removeClass","document","bind","originalEvent","which","$target","attr"],"mappings":";;AAAA;;;;AAKA,IAAIA,sBAAJ;AACAC,EAAE,YAAY;AACVD,oBAAgB,IAAI,YAAY;AAC5B,YAAME,aAAa,cAAnB;AACA,YAAIC,OAAO,IAAX;AACA,aAAKC,cAAL,GAAsB,UAAUC,KAAV,EAAiBC,IAAjB,EAAuBC,MAAvB,EAA+BC,OAA/B,EAAwC;AAC1D,gBAAIC,EAAEC,KAAF,CAAQL,MAAMH,UAAN,CAAR,CAAJ,EAAgCG,MAAMH,UAAN,IAAoB,EAApB;AAChCG,kBAAMH,UAAN,EAAkBS,IAAlB,CAAuB;AACnBL,sBAAMA,IADa;AAEnBC,wBAAQA,MAFW;AAGnBC,yBAASA;AAHU,aAAvB;AAKH,SAPD;;AASA,aAAKI,cAAL,GAAsB,UAAUP,KAAV,EAAiB;AACnC,mBAAOA,MAAMH,UAAN,CAAP;AACH,SAFD;;AAIA,aAAKW,OAAL,GAAeZ,EAAE,sBAAF,CAAf;AACA,aAAKa,IAAL,GAAY,KAAKD,OAAL,CAAaE,IAAb,CAAkB,cAAlB,CAAZ;AACA,aAAKD,IAAL,CAAUE,KAAV,CAAgB,UAAUC,GAAV,EAAe;AAC3BA,gBAAIC,eAAJ;AACH,SAFD;;AAKA,aAAKC,IAAL,GAAY,UAAUF,GAAV,EAAe;AACvBG,oBAAQC,GAAR,CAAYJ,GAAZ;;AAEA,gBAAMK,SAASrB,EAAEgB,IAAIK,MAAN,CAAf;AACAF,oBAAQC,GAAR,CAAYC,MAAZ;AACAF,oBAAQC,GAAR,CAAY,KAAKT,cAAL,CAAoBU,MAApB,CAAZ;;AAEAnB,iBAAKoB,KAAL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEH,SApBD;;AAsBA,aAAKA,KAAL,GAAa,YAAY;AACrBpB,iBAAKW,IAAL,CAAUU,KAAV;AACH,SAFD;;AAIA,aAAKC,KAAL,GAAa,YAAY;AACrBtB,iBAAKoB,KAAL;AACApB,iBAAKU,OAAL,CAAaa,WAAb,CAAyB,MAAzB;AACH,SAHD;;AAKA,aAAKb,OAAL,CAAaG,KAAb,CAAmB,KAAKS,KAAxB;AACH,KAvDe,EAAhB;AAwDH,CAzDD;;AA4DAxB,EAAE0B,QAAF,EAAYC,IAAZ,CAAiB,WAAjB,EAA8B,UAAUX,GAAV,EAAe;AACzCA,UAAMA,IAAIY,aAAV;AACA,QAAIZ,IAAIa,KAAJ,IAAa,CAAjB,EAAoB;AAChB,YAAIC,UAAU9B,EAAEgB,IAAIK,MAAN,CAAd;AACA,YAAIS,QAAQC,IAAR,CAAa,UAAb,MAA6B,MAAjC,EAAyC;AACrCZ,oBAAQC,GAAR,CAAY,WAAZ;AACH;AACDrB,sBAAcmB,IAAd,CAAmBF,GAAnB;AACH;AAEJ,CAVD","file":"mouseevent.global.js","sourcesContent":["/**\n * Created by hyunwoo on 2017-02-17.\n */\n\n\nlet __ContextMenu;\n$(function () {\n    __ContextMenu = new function () {\n        const contextKey = '_contextItem';\n        var that = this;\n        this.addContextItem = function ($item, name, action, disable) {\n            if (_.isNil($item[contextKey])) $item[contextKey] = [];\n            $item[contextKey].push({\n                name: name,\n                action: action,\n                disable: disable,\n            })\n        };\n\n        this.getContextItem = function ($item) {\n            return $item[contextKey];\n        };\n\n        this.wrapper = $('.contextmenu-wrapper');\n        this.menu = this.wrapper.find('.contextmenu');\n        this.menu.click(function (evt) {\n            evt.stopPropagation();\n        });\n\n\n        this.open = function (evt) {\n            console.log(evt);\n\n            const target = $(evt.target);\n            console.log(target);\n            console.log(this.getContextItem(target));\n\n            that.clear();\n            // that.wrapper.addClass('open');\n            // that.menu.css('left', evt.clientX);\n            // that.menu.css('top', evt.clientY);\n\n            // $('<div class=\"header\">menu</div>').appendTo(that.menu);\n            // _.forEach(items, function (item) {\n            //     var $item = $('<div class=\"item\">' + item + '</div>').appendTo(that.menu);\n            //     $item.click(function () {\n            //\n            //     });\n            // })\n\n        };\n\n        this.clear = function () {\n            that.menu.empty();\n        };\n\n        this.close = function () {\n            that.clear();\n            that.wrapper.removeClass('open');\n        };\n\n        this.wrapper.click(this.close);\n    };\n});\n\n\n$(document).bind(\"mousedown\", function (evt) {\n    evt = evt.originalEvent;\n    if (evt.which == 3) {\n        var $target = $(evt.target);\n        if ($target.attr('evt-type') === 'menu') {\n            console.log('Open Menu');\n        }\n        __ContextMenu.open(evt);\n    }\n\n});"]}