{"version":3,"sources":["../../../src/ui/mouseevent.global.js"],"names":["__ContextMenu","$","contextKey","that","addContextItem","$item","name","action","disable","_","isNil","push","getContextItem","wrapper","menu","find","click","evt","stopPropagation","open","console","log","target","clear","empty","close","removeClass","document","bind","originalEvent","which","$target","attr"],"mappings":";;AAAA;;;;AAKA,IAAIA,sBAAJ;AACAC,EAAE,YAAY;AACVD,oBAAgB,IAAI,YAAY;AAC5B,YAAME,aAAa,cAAnB;AACA,YAAIC,OAAO,IAAX;AACA,aAAKC,cAAL,GAAsB,UAAUC,KAAV,EAAiBC,IAAjB,EAAuBC,MAAvB,EAA+BC,OAA/B,EAAwC;AAC1D,gBAAIC,EAAEC,KAAF,CAAQL,MAAMH,UAAN,CAAR,CAAJ,EAAgCG,MAAMH,UAAN,IAAoB,EAApB;AAChCG,kBAAMH,UAAN,EAAkBS,IAAlB,CAAuB;AACnBL,sBAAMA,IADa;AAEnBC,wBAAQA,MAFW;AAGnBC,yBAASA;AAHU,aAAvB;AAKH,SAPD;;AASA,aAAKI,cAAL,GAAsB,UAAUP,KAAV,EAAiB;AACnC,mBAAOA,MAAMH,UAAN,CAAP;AACH,SAFD;;AAIA,aAAKW,OAAL,GAAeZ,EAAE,sBAAF,CAAf;AACA,aAAKa,IAAL,GAAY,KAAKD,OAAL,CAAaE,IAAb,CAAkB,cAAlB,CAAZ;AACA,aAAKD,IAAL,CAAUE,KAAV,CAAgB,UAAUC,GAAV,EAAe;AAC3BA,gBAAIC,eAAJ;AACH,SAFD;;AAKA,aAAKC,IAAL,GAAY,UAAUF,GAAV,EAAe;AACvBG,oBAAQC,GAAR,CAAYJ,GAAZ;;AAEA,gBAAMK,SAASrB,EAAEgB,IAAIK,MAAN,CAAf;AACAF,oBAAQC,GAAR,CAAYC,MAAZ;AACAF,oBAAQC,GAAR,CAAY,KAAKT,cAAL,CAAoBU,MAApB,CAAZ;;AAEAnB,iBAAKoB,KAAL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEH,SApBD;;AAsBA,aAAKA,KAAL,GAAa,YAAY;AACrBpB,iBAAKW,IAAL,CAAUU,KAAV;AACH,SAFD;;AAIA,aAAKC,KAAL,GAAa,YAAY;AACrBtB,iBAAKoB,KAAL;AACApB,iBAAKU,OAAL,CAAaa,WAAb,CAAyB,MAAzB;AACH,SAHD;;AAKA,aAAKb,OAAL,CAAaG,KAAb,CAAmB,KAAKS,KAAxB;AACH,KAvDe,EAAhB;AAwDH,CAzDD;;AA4DAxB,EAAE0B,QAAF,EAAYC,IAAZ,CAAiB,WAAjB,EAA8B,UAAUX,GAAV,EAAe;AACzCA,UAAMA,IAAIY,aAAV;AACA,QAAIZ,IAAIa,KAAJ,IAAa,CAAjB,EAAoB;AAChB,YAAIC,UAAU9B,EAAEgB,IAAIK,MAAN,CAAd;AACA,YAAIS,QAAQC,IAAR,CAAa,UAAb,MAA6B,MAAjC,EAAyC;AACrCZ,oBAAQC,GAAR,CAAY,WAAZ;AACH;AACDrB,sBAAcmB,IAAd,CAAmBF,GAAnB;AACH;AAEJ,CAVD","file":"mouseevent.global.js","sourcesContent":["/**\r\n * Created by hyunwoo on 2017-02-17.\r\n */\r\n\r\n\r\nlet __ContextMenu;\r\n$(function () {\r\n    __ContextMenu = new function () {\r\n        const contextKey = '_contextItem';\r\n        var that = this;\r\n        this.addContextItem = function ($item, name, action, disable) {\r\n            if (_.isNil($item[contextKey])) $item[contextKey] = [];\r\n            $item[contextKey].push({\r\n                name: name,\r\n                action: action,\r\n                disable: disable,\r\n            })\r\n        };\r\n\r\n        this.getContextItem = function ($item) {\r\n            return $item[contextKey];\r\n        };\r\n\r\n        this.wrapper = $('.contextmenu-wrapper');\r\n        this.menu = this.wrapper.find('.contextmenu');\r\n        this.menu.click(function (evt) {\r\n            evt.stopPropagation();\r\n        });\r\n\r\n\r\n        this.open = function (evt) {\r\n            console.log(evt);\r\n\r\n            const target = $(evt.target);\r\n            console.log(target);\r\n            console.log(this.getContextItem(target));\r\n\r\n            that.clear();\r\n            // that.wrapper.addClass('open');\r\n            // that.menu.css('left', evt.clientX);\r\n            // that.menu.css('top', evt.clientY);\r\n\r\n            // $('<div class=\"header\">menu</div>').appendTo(that.menu);\r\n            // _.forEach(items, function (item) {\r\n            //     var $item = $('<div class=\"item\">' + item + '</div>').appendTo(that.menu);\r\n            //     $item.click(function () {\r\n            //\r\n            //     });\r\n            // })\r\n\r\n        };\r\n\r\n        this.clear = function () {\r\n            that.menu.empty();\r\n        };\r\n\r\n        this.close = function () {\r\n            that.clear();\r\n            that.wrapper.removeClass('open');\r\n        };\r\n\r\n        this.wrapper.click(this.close);\r\n    };\r\n});\r\n\r\n\r\n$(document).bind(\"mousedown\", function (evt) {\r\n    evt = evt.originalEvent;\r\n    if (evt.which == 3) {\r\n        var $target = $(evt.target);\r\n        if ($target.attr('evt-type') === 'menu') {\r\n            console.log('Open Menu');\r\n        }\r\n        __ContextMenu.open(evt);\r\n    }\r\n\r\n});"]}