{"version":3,"sources":["../../src/firebase.wrapper.js"],"names":["config","apiKey","authDomain","databaseURL","storageBucket","messagingSenderId","__Firebase","$","fb","firebase","initializeApp","auth","that","authChange","addAuthChangeFunction","evt","push","storage","testDataUrl","providerGoogle","GoogleAuthProvider","onAuthStateChanged","user","console","log","__UIStatic","onAuthChange","signInWithGoogle","signInWithPopup","then","result","token","credential","accessToken","catch","error","errorCode","code","errorMessage","message","email","signInWithEmail","signOut","window","location","click","Dialog","open"],"mappings":";;AAAA;;;AAGA,IAAIA,SAAS;AACTC,YAAQ,yCADC;AAETC,gBAAY,yBAFH;AAGTC,iBAAa,gCAHJ;AAITC,mBAAe,qBAJN;AAKTC,uBAAmB;AALV,CAAb;;AAQA,IAAIC,mBAAJ;AACAC,EAAE,YAAY;AACVD,iBAAa,IAAI,YAAY;AACzB,YAAIE,KAAKC,SAASC,aAAT,CAAuBV,MAAvB,CAAT;AACA,YAAIW,OAAOH,GAAGG,IAAH,EAAX;AACA,YAAMC,OAAO,IAAb;;AAEA,aAAKC,UAAL,GAAkB,EAAlB;;AAEA,aAAKC,qBAAL,GAA6B,UAAUC,GAAV,EAAe;AACxCH,iBAAKC,UAAL,CAAgBG,IAAhB,CAAqBD,GAArB;AACH,SAFD;;AAIA,aAAKE,OAAL,GAAeR,SAASQ,OAAT,EAAf;AACA,aAAKC,WAAL,GAAmB,2IAAnB;AACA,YAAIC,iBAAiB,IAAIV,SAASE,IAAT,CAAcS,kBAAlB,EAArB;;AAGAZ,WAAGG,IAAH,GAAUU,kBAAV,CAA6B,UAAUC,IAAV,EAAgB;AACzC,gBAAIA,IAAJ,EAAU;AACNC,wBAAQC,GAAR,CAAY,cAAZ;AACAD,wBAAQC,GAAR,CAAYF,IAAZ;AACH,aAHD,MAGO,CACN;;AAEDG,uBAAWC,YAAX,CAAwBJ,IAAxB;AACH,SARD;;AAUA,aAAKK,gBAAL,GAAwB,YAAY;AAChCJ,oBAAQC,GAAR,CAAY,GAAZ;AACAhB,eAAGG,IAAH,GAAUiB,eAAV,CAA0BT,cAA1B,EAA0CU,IAA1C,CAA+C,UAAUC,MAAV,EAAkB;AAC7D,oBAAIC,QAAQD,OAAOE,UAAP,CAAkBC,WAA9B;AACA,oBAAIX,OAAOQ,OAAOR,IAAlB;AACAC,wBAAQC,GAAR,CAAY,IAAZ;AACA;AACH,aALD,EAKGU,KALH,CAKS,UAAUC,KAAV,EAAiB;AACtBZ,wBAAQC,GAAR,CAAYW,KAAZ;AACA;AACA,oBAAIC,YAAYD,MAAME,IAAtB;AACA,oBAAIC,eAAeH,MAAMI,OAAzB;AACA;AACA,oBAAIC,QAAQL,MAAMK,KAAlB;AACA;AACA,oBAAIR,aAAaG,MAAMH,UAAvB;AACA;AACH,aAfD;AAgBH,SAlBD;;AAoBA,aAAKS,eAAL,GAAuB,YAAY,CAElC,CAFD;;AAIA,aAAKC,OAAL,GAAe,YAAY;AACvB/B,iBAAK+B,OAAL,GAAeb,IAAf,CAAoB,YAAY;AAC5Bc,uBAAOC,QAAP,GAAkB,GAAlB;AACH,aAFD,EAEG,UAAUT,KAAV,EAAiB,CAEnB,CAJD;AAKH,SAND;AAQH,KA1DY,EAAb;AA2DA5B,MAAE,eAAF,EAAmBsC,KAAnB,CAAyBvC,WAAWqB,gBAApC;AACApB,MAAE,gBAAF,EAAoBsC,KAApB,CAA0BvC,WAAWoC,OAArC;;AAEApC,eAAWQ,qBAAX,CAAiCW,WAAWC,YAA5C;;AAEAnB,MAAE,aAAF,EAAiBsC,KAAjB,CAAuB,YAAY;AAC/BpB,mBAAWqB,MAAX,CAAkBC,IAAlB,CAAuB,EAAvB;AACH,KAFD;AAGH,CApED","file":"firebase.wrapper.js","sourcesContent":["/**\r\n * Created by hyunwoo on 2017-02-16.\r\n */\r\nvar config = {\r\n    apiKey: \"AIzaSyBmWUxSYfDdIig4b_Nk_8zGW5VdDr1qY-M\",\r\n    authDomain: \"dradvis.firebaseapp.com\",\r\n    databaseURL: \"https://dradvis.firebaseio.com\",\r\n    storageBucket: \"dradvis.appspot.com\",\r\n    messagingSenderId: \"20687471588\"\r\n};\r\n\r\nlet __Firebase;\r\n$(function () {\r\n    __Firebase = new function () {\r\n        let fb = firebase.initializeApp(config);\r\n        let auth = fb.auth();\r\n        const that = this;\r\n\r\n        this.authChange = [];\r\n\r\n        this.addAuthChangeFunction = function (evt) {\r\n            that.authChange.push(evt);\r\n        };\r\n\r\n        this.storage = firebase.storage();\r\n        this.testDataUrl = 'https://firebasestorage.googleapis.com/v0/b/dradvis.appspot.com/o/credos_testing.csv?alt=media&token=27152d59-bf4a-41cf-8658-1c3581c08c5e';\r\n        let providerGoogle = new firebase.auth.GoogleAuthProvider();\r\n\r\n\r\n        fb.auth().onAuthStateChanged(function (user) {\r\n            if (user) {\r\n                console.log('auth changed');\r\n                console.log(user);\r\n            } else {\r\n            }\r\n\r\n            __UIStatic.onAuthChange(user);\r\n        });\r\n\r\n        this.signInWithGoogle = function () {\r\n            console.log('?');\r\n            fb.auth().signInWithPopup(providerGoogle).then(function (result) {\r\n                var token = result.credential.accessToken;\r\n                var user = result.user;\r\n                console.log('??');\r\n                // ...\r\n            }).catch(function (error) {\r\n                console.log(error);\r\n                // Handle Errors here.\r\n                var errorCode = error.code;\r\n                var errorMessage = error.message;\r\n                // The email of the user's account used.\r\n                var email = error.email;\r\n                // The firebase.auth.AuthCredential type that was used.\r\n                var credential = error.credential;\r\n                // ...\r\n            });\r\n        };\r\n\r\n        this.signInWithEmail = function () {\r\n\r\n        };\r\n\r\n        this.signOut = function () {\r\n            auth.signOut().then(function () {\r\n                window.location = '/';\r\n            }, function (error) {\r\n\r\n            })\r\n        };\r\n\r\n    };\r\n    $('#signinButton').click(__Firebase.signInWithGoogle);\r\n    $('#signoutButton').click(__Firebase.signOut);\r\n\r\n    __Firebase.addAuthChangeFunction(__UIStatic.onAuthChange);\r\n\r\n    $('#uploadTest').click(function () {\r\n        __UIStatic.Dialog.open({});\r\n    })\r\n});\r\n\r\n\r\n"]}