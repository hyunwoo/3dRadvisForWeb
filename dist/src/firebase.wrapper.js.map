{"version":3,"sources":["../../src/firebase.wrapper.js"],"names":["config","apiKey","authDomain","databaseURL","storageBucket","messagingSenderId","__Firebase","fb","firebase","initializeApp","auth","user","undefined","isSetReferences","that","authChange","addAuthChangeFunction","evt","push","storage","testDataUrl","providerGoogle","GoogleAuthProvider","onAuthStateChanged","console","log","getDataList","signInWithGoogle","signInWithPopup","then","result","token","credential","accessToken","catch","error","errorCode","code","errorMessage","message","email","signInWithEmail","signOut","window","location","uploadData","f","$","click","__FileReader","InputReadFile","body"],"mappings":";;AAAA;;;AAGA,IAAIA,SAAS;AACTC,YAAQ,yCADC;AAETC,gBAAY,yBAFH;AAGTC,iBAAa,gCAHJ;AAITC,mBAAe,qBAJN;AAKTC,uBAAmB;AALV,CAAb;;AAQA,IAAIC,aAAa,IAAI,YAAY;AAC7B,QAAIC,KAAKC,SAASC,aAAT,CAAuBT,MAAvB,CAAT;AACA,QAAIU,OAAOH,GAAGG,IAAH,EAAX;AACA,SAAKC,IAAL,GAAYC,SAAZ;AACA,QAAIC,kBAAkB,KAAtB;;AAEA,QAAMC,OAAO,IAAb;AACA,SAAKC,UAAL,GAAkB,EAAlB;;AAEA,SAAKC,qBAAL,GAA6B,UAAUC,GAAV,EAAe;AACxCH,aAAKC,UAAL,CAAgBG,IAAhB,CAAqBD,GAArB;AACH,KAFD;;AAIA,SAAKE,OAAL,GAAeX,SAASW,OAAT,EAAf;AACA,SAAKC,WAAL,GAAmB,2IAAnB;AACA,QAAIC,iBAAiB,IAAIb,SAASE,IAAT,CAAcY,kBAAlB,EAArB;;AAEAf,OAAGG,IAAH,GAAUa,kBAAV,CAA6B,UAAUZ,IAAV,EAAgB;AACzCG,aAAKH,IAAL,GAAYA,IAAZ;AACA,YAAIA,IAAJ,EAAU;AACNa,oBAAQC,GAAR,CAAY,cAAZ;AACAD,oBAAQC,GAAR,CAAYd,IAAZ;AACA,gBAAI,CAACE,eAAL,EAAsB;AAClBW,wBAAQC,GAAR,CAAY,gBAAZ;AACH;AACDZ,8BAAkB,IAAlB;AAEH,SARD,MAQO,CACN;;AAED;AACH,KAdD;;AAgBA,SAAKa,WAAL,GAAmB,YAAY,CAE9B,CAFD;;AAIA,SAAKC,gBAAL,GAAwB,YAAY;AAChCH,gBAAQC,GAAR,CAAY,GAAZ;AACAlB,WAAGG,IAAH,GAAUkB,eAAV,CAA0BP,cAA1B,EAA0CQ,IAA1C,CAA+C,UAAUC,MAAV,EAAkB;AAC7D,gBAAIC,QAAQD,OAAOE,UAAP,CAAkBC,WAA9B;AACA,gBAAItB,OAAOmB,OAAOnB,IAAlB;AACAa,oBAAQC,GAAR,CAAY,IAAZ;AACA;AACH,SALD,EAKGS,KALH,CAKS,UAAUC,KAAV,EAAiB;AACtBX,oBAAQC,GAAR,CAAYU,KAAZ;AACA;AACA,gBAAIC,YAAYD,MAAME,IAAtB;AACA,gBAAIC,eAAeH,MAAMI,OAAzB;AACA;AACA,gBAAIC,QAAQL,MAAMK,KAAlB;AACA;AACA,gBAAIR,aAAaG,MAAMH,UAAvB;AACA;AACH,SAfD;AAgBH,KAlBD;;AAoBA,SAAKS,eAAL,GAAuB,YAAY,CAElC,CAFD;;AAIA,SAAKC,OAAL,GAAe,YAAY;AACvBhC,aAAKgC,OAAL,GAAeb,IAAf,CAAoB,YAAY;AAC5Bc,mBAAOC,QAAP,GAAkB,GAAlB;AACH,SAFD,EAEG,UAAUT,KAAV,EAAiB,CAEnB,CAJD;AAKArB,aAAKH,IAAL,GAAYC,SAAZ;AACH,KAPD;;AASA,SAAKiC,UAAL,GAAkB,UAAUC,CAAV,EAAa,CAE9B,CAFD;AAGH,CAzEgB,EAAjB;AA0EAC,EAAE,eAAF,EAAmBC,KAAnB,CAAyB1C,WAAWqB,gBAApC;AACAoB,EAAE,gBAAF,EAAoBC,KAApB,CAA0B1C,WAAWoC,OAArC;;AAEA;AACAO,aAAaC,aAAb,CAA2BH,EAAE,aAAF,CAA3B,EAA6C,UAAUI,IAAV,EAAgB;AACzD3B,YAAQC,GAAR,CAAY0B,IAAZ;AACH,CAFD","file":"firebase.wrapper.js","sourcesContent":["/**\n * Created by hyunwoo on 2017-02-16.\n */\nvar config = {\n    apiKey: \"AIzaSyBmWUxSYfDdIig4b_Nk_8zGW5VdDr1qY-M\",\n    authDomain: \"dradvis.firebaseapp.com\",\n    databaseURL: \"https://dradvis.firebaseio.com\",\n    storageBucket: \"dradvis.appspot.com\",\n    messagingSenderId: \"20687471588\"\n};\n\nlet __Firebase = new function () {\n    let fb = firebase.initializeApp(config);\n    let auth = fb.auth();\n    this.user = undefined;\n    let isSetReferences = false;\n\n    const that = this;\n    this.authChange = [];\n\n    this.addAuthChangeFunction = function (evt) {\n        that.authChange.push(evt);\n    };\n\n    this.storage = firebase.storage();\n    this.testDataUrl = 'https://firebasestorage.googleapis.com/v0/b/dradvis.appspot.com/o/credos_testing.csv?alt=media&token=27152d59-bf4a-41cf-8658-1c3581c08c5e';\n    let providerGoogle = new firebase.auth.GoogleAuthProvider();\n\n    fb.auth().onAuthStateChanged(function (user) {\n        that.user = user;\n        if (user) {\n            console.log('auth changed');\n            console.log(user);\n            if (!isSetReferences) {\n                console.log('initReferences');\n            }\n            isSetReferences = true;\n\n        } else {\n        }\n\n        // __UIStatic.onAuthChange(user);\n    });\n\n    this.getDataList = function () {\n\n    };\n\n    this.signInWithGoogle = function () {\n        console.log('?');\n        fb.auth().signInWithPopup(providerGoogle).then(function (result) {\n            var token = result.credential.accessToken;\n            var user = result.user;\n            console.log('??');\n            // ...\n        }).catch(function (error) {\n            console.log(error);\n            // Handle Errors here.\n            var errorCode = error.code;\n            var errorMessage = error.message;\n            // The email of the user's account used.\n            var email = error.email;\n            // The firebase.auth.AuthCredential type that was used.\n            var credential = error.credential;\n            // ...\n        });\n    };\n\n    this.signInWithEmail = function () {\n\n    };\n\n    this.signOut = function () {\n        auth.signOut().then(function () {\n            window.location = '/';\n        }, function (error) {\n\n        });\n        that.user = undefined;\n    };\n\n    this.uploadData = function (f) {\n\n    };\n};\n$('#signinButton').click(__Firebase.signInWithGoogle);\n$('#signoutButton').click(__Firebase.signOut);\n\n// __Firebase.addAuthChangeFunction(__UIStatic.onAuthChange);\n__FileReader.InputReadFile($('#uploadTest'), function (body) {\n    console.log(body);\n});\n\n\n\n"]}