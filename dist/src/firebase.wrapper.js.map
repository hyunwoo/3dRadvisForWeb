{"version":3,"sources":["../../src/firebase.wrapper.js"],"names":["config","apiKey","authDomain","databaseURL","storageBucket","messagingSenderId","__Firebase","$","fb","firebase","initializeApp","auth","user","undefined","isSetReferences","that","authChange","addAuthChangeFunction","evt","push","storage","testDataUrl","providerGoogle","GoogleAuthProvider","onAuthStateChanged","console","log","__UIStatic","onAuthChange","getDataList","signInWithGoogle","signInWithPopup","then","result","token","credential","accessToken","catch","error","errorCode","code","errorMessage","message","email","signInWithEmail","signOut","window","location","uploadData","f","click","__FileReader","InputReadFile","body"],"mappings":";;AAAA;;;AAGA,IAAIA,SAAS;AACTC,YAAQ,yCADC;AAETC,gBAAY,yBAFH;AAGTC,iBAAa,gCAHJ;AAITC,mBAAe,qBAJN;AAKTC,uBAAmB;AALV,CAAb;;AAQA,IAAIC,mBAAJ;AACAC,EAAE,YAAY;AACVD,iBAAa,IAAI,YAAY;AACzB,YAAIE,KAAKC,SAASC,aAAT,CAAuBV,MAAvB,CAAT;AACA,YAAIW,OAAOH,GAAGG,IAAH,EAAX;AACA,aAAKC,IAAL,GAAYC,SAAZ;AACA,YAAIC,kBAAkB,KAAtB;;AAEA,YAAMC,OAAO,IAAb;AACA,aAAKC,UAAL,GAAkB,EAAlB;;AAEA,aAAKC,qBAAL,GAA6B,UAAUC,GAAV,EAAe;AACxCH,iBAAKC,UAAL,CAAgBG,IAAhB,CAAqBD,GAArB;AACH,SAFD;;AAIA,aAAKE,OAAL,GAAeX,SAASW,OAAT,EAAf;AACA,aAAKC,WAAL,GAAmB,2IAAnB;AACA,YAAIC,iBAAiB,IAAIb,SAASE,IAAT,CAAcY,kBAAlB,EAArB;;AAEAf,WAAGG,IAAH,GAAUa,kBAAV,CAA6B,UAAUZ,IAAV,EAAgB;AACzCG,iBAAKH,IAAL,GAAYA,IAAZ;AACA,gBAAIA,IAAJ,EAAU;AACNa,wBAAQC,GAAR,CAAY,cAAZ;AACAD,wBAAQC,GAAR,CAAYd,IAAZ;AACA,oBAAI,CAACE,eAAL,EAAsB;AAClBW,4BAAQC,GAAR,CAAY,gBAAZ;AACH;AACDZ,kCAAkB,IAAlB;AAEH,aARD,MAQO,CACN;;AAEDa,uBAAWC,YAAX,CAAwBhB,IAAxB;AACH,SAdD;;AAgBA,aAAKiB,WAAL,GAAmB,YAAY,CAE9B,CAFD;;AAIA,aAAKC,gBAAL,GAAwB,YAAY;AAChCL,oBAAQC,GAAR,CAAY,GAAZ;AACAlB,eAAGG,IAAH,GAAUoB,eAAV,CAA0BT,cAA1B,EAA0CU,IAA1C,CAA+C,UAAUC,MAAV,EAAkB;AAC7D,oBAAIC,QAAQD,OAAOE,UAAP,CAAkBC,WAA9B;AACA,oBAAIxB,OAAOqB,OAAOrB,IAAlB;AACAa,wBAAQC,GAAR,CAAY,IAAZ;AACA;AACH,aALD,EAKGW,KALH,CAKS,UAAUC,KAAV,EAAiB;AACtBb,wBAAQC,GAAR,CAAYY,KAAZ;AACA;AACA,oBAAIC,YAAYD,MAAME,IAAtB;AACA,oBAAIC,eAAeH,MAAMI,OAAzB;AACA;AACA,oBAAIC,QAAQL,MAAMK,KAAlB;AACA;AACA,oBAAIR,aAAaG,MAAMH,UAAvB;AACA;AACH,aAfD;AAgBH,SAlBD;;AAoBA,aAAKS,eAAL,GAAuB,YAAY,CAElC,CAFD;;AAIA,aAAKC,OAAL,GAAe,YAAY;AACvBlC,iBAAKkC,OAAL,GAAeb,IAAf,CAAoB,YAAY;AAC5Bc,uBAAOC,QAAP,GAAkB,GAAlB;AACH,aAFD,EAEG,UAAUT,KAAV,EAAiB,CAEnB,CAJD;AAKAvB,iBAAKH,IAAL,GAAYC,SAAZ;AACH,SAPD;;AASA,aAAKmC,UAAL,GAAkB,UAAUC,CAAV,EAAa,CAE9B,CAFD;AAGH,KAzEY,EAAb;AA0EA1C,MAAE,eAAF,EAAmB2C,KAAnB,CAAyB5C,WAAWwB,gBAApC;AACAvB,MAAE,gBAAF,EAAoB2C,KAApB,CAA0B5C,WAAWuC,OAArC;;AAEAvC,eAAWW,qBAAX,CAAiCU,WAAWC,YAA5C;AACAuB,iBAAaC,aAAb,CAA2B7C,EAAE,aAAF,CAA3B,EAA6C,UAAU8C,IAAV,EAAgB;AACzD5B,gBAAQC,GAAR,CAAY2B,IAAZ;AACH,KAFD;AAKH,CApFD","file":"firebase.wrapper.js","sourcesContent":["/**\r\n * Created by hyunwoo on 2017-02-16.\r\n */\r\nvar config = {\r\n    apiKey: \"AIzaSyBmWUxSYfDdIig4b_Nk_8zGW5VdDr1qY-M\",\r\n    authDomain: \"dradvis.firebaseapp.com\",\r\n    databaseURL: \"https://dradvis.firebaseio.com\",\r\n    storageBucket: \"dradvis.appspot.com\",\r\n    messagingSenderId: \"20687471588\"\r\n};\r\n\r\nlet __Firebase;\r\n$(function () {\r\n    __Firebase = new function () {\r\n        let fb = firebase.initializeApp(config);\r\n        let auth = fb.auth();\r\n        this.user = undefined;\r\n        let isSetReferences = false;\r\n\r\n        const that = this;\r\n        this.authChange = [];\r\n\r\n        this.addAuthChangeFunction = function (evt) {\r\n            that.authChange.push(evt);\r\n        };\r\n\r\n        this.storage = firebase.storage();\r\n        this.testDataUrl = 'https://firebasestorage.googleapis.com/v0/b/dradvis.appspot.com/o/credos_testing.csv?alt=media&token=27152d59-bf4a-41cf-8658-1c3581c08c5e';\r\n        let providerGoogle = new firebase.auth.GoogleAuthProvider();\r\n\r\n        fb.auth().onAuthStateChanged(function (user) {\r\n            that.user = user;\r\n            if (user) {\r\n                console.log('auth changed');\r\n                console.log(user);\r\n                if (!isSetReferences) {\r\n                    console.log('initReferences');\r\n                }\r\n                isSetReferences = true;\r\n\r\n            } else {\r\n            }\r\n\r\n            __UIStatic.onAuthChange(user);\r\n        });\r\n\r\n        this.getDataList = function () {\r\n\r\n        };\r\n\r\n        this.signInWithGoogle = function () {\r\n            console.log('?');\r\n            fb.auth().signInWithPopup(providerGoogle).then(function (result) {\r\n                var token = result.credential.accessToken;\r\n                var user = result.user;\r\n                console.log('??');\r\n                // ...\r\n            }).catch(function (error) {\r\n                console.log(error);\r\n                // Handle Errors here.\r\n                var errorCode = error.code;\r\n                var errorMessage = error.message;\r\n                // The email of the user's account used.\r\n                var email = error.email;\r\n                // The firebase.auth.AuthCredential type that was used.\r\n                var credential = error.credential;\r\n                // ...\r\n            });\r\n        };\r\n\r\n        this.signInWithEmail = function () {\r\n\r\n        };\r\n\r\n        this.signOut = function () {\r\n            auth.signOut().then(function () {\r\n                window.location = '/';\r\n            }, function (error) {\r\n\r\n            });\r\n            that.user = undefined;\r\n        };\r\n\r\n        this.uploadData = function (f) {\r\n\r\n        };\r\n    };\r\n    $('#signinButton').click(__Firebase.signInWithGoogle);\r\n    $('#signoutButton').click(__Firebase.signOut);\r\n\r\n    __Firebase.addAuthChangeFunction(__UIStatic.onAuthChange);\r\n    __FileReader.InputReadFile($('#uploadTest'), function (body) {\r\n        console.log(body);\r\n    })\r\n\r\n\r\n});\r\n\r\n\r\n"]}