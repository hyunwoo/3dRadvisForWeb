{"version":3,"sources":["../../src/firebase.wrapper.js"],"names":["config","apiKey","authDomain","databaseURL","storageBucket","messagingSenderId","__Firebase","fb","firebase","initializeApp","auth","user","undefined","isSetReferences","that","authChange","addAuthChangeFunction","evt","push","storage","testDataUrl","providerGoogle","GoogleAuthProvider","onAuthStateChanged","console","log","getDataList","signInWithGoogle","signInWithPopup","then","result","token","credential","accessToken","catch","error","errorCode","code","errorMessage","message","email","signInWithEmail","signOut","window","location","uploadData","f","$","click","__FileReader","InputReadFile","body"],"mappings":";;AAAA;;;AAGA,IAAIA,SAAS;AACTC,YAAQ,yCADC;AAETC,gBAAY,yBAFH;AAGTC,iBAAa,gCAHJ;AAITC,mBAAe,qBAJN;AAKTC,uBAAmB;AALV,CAAb;;AAQA,IAAIC,aAAa,IAAI,YAAY;AAC7B,QAAIC,KAAKC,SAASC,aAAT,CAAuBT,MAAvB,CAAT;AACA,QAAIU,OAAOH,GAAGG,IAAH,EAAX;AACA,SAAKC,IAAL,GAAYC,SAAZ;AACA,QAAIC,kBAAkB,KAAtB;;AAEA,QAAMC,OAAO,IAAb;AACA,SAAKC,UAAL,GAAkB,EAAlB;;AAEA,SAAKC,qBAAL,GAA6B,UAAUC,GAAV,EAAe;AACxCH,aAAKC,UAAL,CAAgBG,IAAhB,CAAqBD,GAArB;AACH,KAFD;;AAIA,SAAKE,OAAL,GAAeX,SAASW,OAAT,EAAf;AACA,SAAKC,WAAL,GAAmB,2IAAnB;AACA,QAAIC,iBAAiB,IAAIb,SAASE,IAAT,CAAcY,kBAAlB,EAArB;;AAEAf,OAAGG,IAAH,GAAUa,kBAAV,CAA6B,UAAUZ,IAAV,EAAgB;AACzCG,aAAKH,IAAL,GAAYA,IAAZ;AACA,YAAIA,IAAJ,EAAU;AACNa,oBAAQC,GAAR,CAAY,cAAZ;AACAD,oBAAQC,GAAR,CAAYd,IAAZ;AACA,gBAAI,CAACE,eAAL,EAAsB;AAClBW,wBAAQC,GAAR,CAAY,gBAAZ;AACH;AACDZ,8BAAkB,IAAlB;AAEH,SARD,MAQO,CACN;;AAED;AACH,KAdD;;AAgBA,SAAKa,WAAL,GAAmB,YAAY,CAE9B,CAFD;;AAIA,SAAKC,gBAAL,GAAwB,YAAY;AAChCH,gBAAQC,GAAR,CAAY,GAAZ;AACAlB,WAAGG,IAAH,GAAUkB,eAAV,CAA0BP,cAA1B,EAA0CQ,IAA1C,CAA+C,UAAUC,MAAV,EAAkB;AAC7D,gBAAIC,QAAQD,OAAOE,UAAP,CAAkBC,WAA9B;AACA,gBAAItB,OAAOmB,OAAOnB,IAAlB;AACAa,oBAAQC,GAAR,CAAY,IAAZ;AACA;AACH,SALD,EAKGS,KALH,CAKS,UAAUC,KAAV,EAAiB;AACtBX,oBAAQC,GAAR,CAAYU,KAAZ;AACA;AACA,gBAAIC,YAAYD,MAAME,IAAtB;AACA,gBAAIC,eAAeH,MAAMI,OAAzB;AACA;AACA,gBAAIC,QAAQL,MAAMK,KAAlB;AACA;AACA,gBAAIR,aAAaG,MAAMH,UAAvB;AACA;AACH,SAfD;AAgBH,KAlBD;;AAoBA,SAAKS,eAAL,GAAuB,YAAY,CAElC,CAFD;;AAIA,SAAKC,OAAL,GAAe,YAAY;AACvBhC,aAAKgC,OAAL,GAAeb,IAAf,CAAoB,YAAY;AAC5Bc,mBAAOC,QAAP,GAAkB,GAAlB;AACH,SAFD,EAEG,UAAUT,KAAV,EAAiB,CAEnB,CAJD;AAKArB,aAAKH,IAAL,GAAYC,SAAZ;AACH,KAPD;;AASA,SAAKiC,UAAL,GAAkB,UAAUC,CAAV,EAAa,CAE9B,CAFD;AAGH,CAzEgB,EAAjB;AA0EAC,EAAE,eAAF,EAAmBC,KAAnB,CAAyB1C,WAAWqB,gBAApC;AACAoB,EAAE,gBAAF,EAAoBC,KAApB,CAA0B1C,WAAWoC,OAArC;;AAEA;AACAO,aAAaC,aAAb,CAA2BH,EAAE,aAAF,CAA3B,EAA6C,UAAUI,IAAV,EAAgB;AACzD3B,YAAQC,GAAR,CAAY0B,IAAZ;AACH,CAFD","file":"firebase.wrapper.js","sourcesContent":["/**\r\n * Created by hyunwoo on 2017-02-16.\r\n */\r\nvar config = {\r\n    apiKey: \"AIzaSyBmWUxSYfDdIig4b_Nk_8zGW5VdDr1qY-M\",\r\n    authDomain: \"dradvis.firebaseapp.com\",\r\n    databaseURL: \"https://dradvis.firebaseio.com\",\r\n    storageBucket: \"dradvis.appspot.com\",\r\n    messagingSenderId: \"20687471588\"\r\n};\r\n\r\nlet __Firebase = new function () {\r\n    let fb = firebase.initializeApp(config);\r\n    let auth = fb.auth();\r\n    this.user = undefined;\r\n    let isSetReferences = false;\r\n\r\n    const that = this;\r\n    this.authChange = [];\r\n\r\n    this.addAuthChangeFunction = function (evt) {\r\n        that.authChange.push(evt);\r\n    };\r\n\r\n    this.storage = firebase.storage();\r\n    this.testDataUrl = 'https://firebasestorage.googleapis.com/v0/b/dradvis.appspot.com/o/credos_testing.csv?alt=media&token=27152d59-bf4a-41cf-8658-1c3581c08c5e';\r\n    let providerGoogle = new firebase.auth.GoogleAuthProvider();\r\n\r\n    fb.auth().onAuthStateChanged(function (user) {\r\n        that.user = user;\r\n        if (user) {\r\n            console.log('auth changed');\r\n            console.log(user);\r\n            if (!isSetReferences) {\r\n                console.log('initReferences');\r\n            }\r\n            isSetReferences = true;\r\n\r\n        } else {\r\n        }\r\n\r\n        // __UIStatic.onAuthChange(user);\r\n    });\r\n\r\n    this.getDataList = function () {\r\n\r\n    };\r\n\r\n    this.signInWithGoogle = function () {\r\n        console.log('?');\r\n        fb.auth().signInWithPopup(providerGoogle).then(function (result) {\r\n            var token = result.credential.accessToken;\r\n            var user = result.user;\r\n            console.log('??');\r\n            // ...\r\n        }).catch(function (error) {\r\n            console.log(error);\r\n            // Handle Errors here.\r\n            var errorCode = error.code;\r\n            var errorMessage = error.message;\r\n            // The email of the user's account used.\r\n            var email = error.email;\r\n            // The firebase.auth.AuthCredential type that was used.\r\n            var credential = error.credential;\r\n            // ...\r\n        });\r\n    };\r\n\r\n    this.signInWithEmail = function () {\r\n\r\n    };\r\n\r\n    this.signOut = function () {\r\n        auth.signOut().then(function () {\r\n            window.location = '/';\r\n        }, function (error) {\r\n\r\n        });\r\n        that.user = undefined;\r\n    };\r\n\r\n    this.uploadData = function (f) {\r\n\r\n    };\r\n};\r\n$('#signinButton').click(__Firebase.signInWithGoogle);\r\n$('#signoutButton').click(__Firebase.signOut);\r\n\r\n// __Firebase.addAuthChangeFunction(__UIStatic.onAuthChange);\r\n__FileReader.InputReadFile($('#uploadTest'), function (body) {\r\n    console.log(body);\r\n});\r\n\r\n\r\n\r\n"]}